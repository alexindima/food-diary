<fd-ui-card class="stats-summary-card" [title]="'STATISTICS.SUMMARY_TITLE' | translate">
    @if (summary(); as data) {
        <div class="stats-summary-card__content">
            <div class="stats-summary-card__row stats-summary-card__row--top">
                <div class="stats-summary-card__total">
                    <span class="stats-summary-card__label">{{ 'STATISTICS.TOTAL_CALORIES' | translate }}</span>
                    <strong class="stats-summary-card__value">
                        {{ data.totalCalories | number: '1.0-0' }}
                        {{ 'GENERAL.UNITS.KCAL' | translate }}
                    </strong>
                    <div class="stats-summary-card__trend">
                        <canvas
                            baseChart
                            [type]="'line'"
                            [data]="summarySparklineData()!"
                            [options]="summarySparklineOptions() || {}"
                        ></canvas>
                    </div>
                </div>
                <div class="stats-summary-card__average">
                    <div class="stats-summary-card__average-main">
                        <span class="stats-summary-card__label">{{ 'STATISTICS.AVERAGE_CALORIES' | translate }}</span>
                        <strong class="stats-summary-card__value">
                            {{ data.averageCard.consumption | number: '1.0-0' }}
                            {{ 'GENERAL.UNITS.KCAL' | translate }}
                        </strong>
                        <span class="stats-summary-card__note">
                            {{ 'STATISTICS.AVERAGE_CARD.CONSUMPTION' | translate }}
                        </span>
                    </div>
                    <div class="stats-summary-card__average-details">
                        <div class="stats-summary-card__average-item">
                            <strong class="stats-summary-card__value">
                                {{ data.averageCard.steps | number: '1.0-0' }}
                            </strong>
                            <span class="stats-summary-card__note">
                                {{ 'STATISTICS.AVERAGE_CARD.STEPS' | translate }}
                            </span>
                        </div>
                        <div class="stats-summary-card__average-item">
                            <strong class="stats-summary-card__value">
                                {{ data.averageCard.burned | number: '1.0-0' }}
                                {{ 'GENERAL.UNITS.KCAL' | translate }}
                            </strong>
                            <span class="stats-summary-card__note">
                                {{ 'STATISTICS.AVERAGE_CARD.BURNED' | translate }}
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="stats-summary-card__row stats-summary-card__row--macros">
                @for (macro of data.macros; track macro.labelKey) {
                    <fd-ui-accent-surface
                        class="stats-summary-card__macro-card"
                        accentSide="top"
                        [accentColor]="macro.color"
                        [tinted]="true"
                    >
                        <span class="stats-summary-card__label">{{ macro.labelKey | translate }}</span>
                        <strong class="stats-summary-card__value">
                            {{ macro.value | number: '1.0-1' }} {{ 'GENERAL.UNITS.G' | translate }}
                        </strong>
                        <div class="stats-summary-card__macro-trend">
                            @if (macroSparklineData()) {
                                <canvas
                                    baseChart
                                    [type]="'line'"
                                    [data]="macroSparklineData()![macro.key]"
                                    [options]="summarySparklineOptions() || {}"
                                ></canvas>
                            }
                        </div>
                    </fd-ui-accent-surface>
                }
            </div>
        </div>
    } @else {
        <p class="stats-summary-card__empty">{{ emptyKey() | translate }}</p>
    }
</fd-ui-card>
