<fd-ui-card class="consumption-ring-card" [title]="'CONSUMPTION_RING.TITLE' | translate">
    <div class="consumption-ring-card__layout">
        <div
            class="consumption-ring-card__chart"
            [class.is-daily-hovered]="isDailyHovered()"
            [class.is-weekly-hovered]="isWeeklyHovered()"
        >
            <svg
                class="consumption-ring-card__svg"
                viewBox="-5 -5 270 270"
                aria-hidden="true"
            >
                <g
                    class="consumption-ring-card__ring consumption-ring-card__ring--daily"
                    [class.is-hovered]="isDailyHovered()"
                    (mouseenter)="setDailyHover(true)"
                    (mouseleave)="setDailyHover(false)"
                    [attr.tabindex]="0"
                    (focus)="setDailyHover(true)"
                    (blur)="setDailyHover(false)"
                    [style.--ring-color]="dailyStrokeColor()"
                >
                    <circle
                        class="consumption-ring-card__track consumption-ring-card__track--daily"
                        [class.is-hovered]="isDailyHovered()"
                        cx="130"
                        cy="130"
                        r="112"
                    />
                    <circle
                        class="consumption-ring-card__progress consumption-ring-card__progress--daily"
                        [class.is-hovered]="isDailyHovered()"
                        cx="130"
                        cy="130"
                        r="112"
                        [attr.stroke-dasharray]="dailyDasharray()"
                        [attr.stroke]="dailyStrokeColor()"
                    />
                </g>

                <g
                    class="consumption-ring-card__ring consumption-ring-card__ring--weekly"
                    [class.is-hovered]="isWeeklyHovered()"
                    (mouseenter)="setWeeklyHover(true)"
                    (mouseleave)="setWeeklyHover(false)"
                    [attr.tabindex]="0"
                    (focus)="setWeeklyHover(true)"
                    (blur)="setWeeklyHover(false)"
                    [style.--ring-color]="weeklyStrokeColor()"
                >
                    <circle
                        class="consumption-ring-card__track consumption-ring-card__track--weekly"
                        [class.is-hovered]="isWeeklyHovered()"
                        cx="130"
                        cy="130"
                        r="88"
                    />
                    <circle
                        class="consumption-ring-card__progress consumption-ring-card__progress--weekly"
                        [class.is-hovered]="isWeeklyHovered()"
                        cx="130"
                        cy="130"
                        r="88"
                        [attr.stroke-dasharray]="weeklyDasharray()"
                        [attr.stroke]="weeklyStrokeColor()"
                    />
                </g>
            </svg>

            <div
                class="consumption-ring-card__center"
                [class.is-daily-hovered]="isDailyHovered()"
                [class.is-weekly-hovered]="isWeeklyHovered()"
            >
                <div class="consumption-ring-card__percent">
                    <span class="consumption-ring-card__percent-value">{{ dailyPercent() }}</span>
                    <span class="consumption-ring-card__percent-sign">%</span>
                </div>
                <div class="consumption-ring-card__primary-line">
                    {{ dailyConsumed() | number:'1.0-0' }} / {{ normalizedDailyGoal() | number:'1.0-0' }}
                    {{ 'CONSUMPTION_RING.UNIT' | translate }}
                </div>
                <div class="consumption-ring-card__secondary-line">
                    {{ 'CONSUMPTION_RING.WEEKLY_LABEL' | translate }}: {{ weeklyPercent() }}%
                </div>
            </div>
        </div>

        <div class="consumption-ring-card__legend">
            <div class="consumption-ring-card__legend-item">
                <span class="consumption-ring-card__dot consumption-ring-card__dot--daily" aria-hidden="true"></span>
                <div>
                    <div class="consumption-ring-card__legend-title">
                        {{ 'CONSUMPTION_RING.DAILY_PROGRESS' | translate }}
                    </div>
                    <div class="consumption-ring-card__legend-value">
                        {{ dailyConsumed() | number:'1.0-0' }} / {{ normalizedDailyGoal() | number:'1.0-0' }}
                        {{ 'CONSUMPTION_RING.UNIT' | translate }}
                    </div>
                </div>
            </div>
            <div class="consumption-ring-card__legend-item">
                <span class="consumption-ring-card__dot consumption-ring-card__dot--weekly" aria-hidden="true"></span>
                <div>
                    <div class="consumption-ring-card__legend-title">
                        {{ 'CONSUMPTION_RING.WEEKLY_PROGRESS' | translate }}
                    </div>
                    <div class="consumption-ring-card__legend-value">
                        {{ safeWeeklyConsumed() | number:'1.0-0' }} / {{ normalizedWeeklyGoal() | number:'1.0-0' }}
                        {{ 'CONSUMPTION_RING.UNIT' | translate }}
                    </div>
                </div>
            </div>
        </div>
    </div>
</fd-ui-card>
