<div class="meal-card" (click)="handleOpen()">
    <div class="meal-card__thumb">
        <img [ngSrc]="coverImage()" width="96" height="96" alt="" loading="lazy" />
    </div>

    <div class="meal-card__content">
        <div class="meal-card__title-block">
            <div class="meal-card__title-row">
                <div class="meal-card__title">
                    @if (meal().mealType) {
                        {{ ('MEAL_CARD.MEAL_TYPES.' + meal().mealType) | translate }}
                    } @else {
                        {{ 'MEAL_CARD.MEAL_TYPES.OTHER' | translate }}
                    }
                </div>
                <div class="meal-card__time">
                    {{ meal().date | date:'HH:mm' }}
                </div>
            </div>
            <div class="meal-card__items">
                {{ 'MEAL_CARD.ITEM_COUNT' | translate }}: {{ itemCount() }}
            </div>
        </div>

        <div class="meal-card__calories">
            <span class="meal-card__calories-value">
                {{ meal().totalCalories | number:'1.0-0' }}
            </span>
            <span class="meal-card__calories-unit">{{ 'MEAL_CARD.KCAL' | translate }}</span>
        </div>

        <div class="meal-card__nutrients">
            <fd-nutrient-badges
                [proteins]="meal().totalProteins ?? 0"
                [fats]="meal().totalFats ?? 0"
                [carbs]="meal().totalCarbs ?? 0"
                [fiber]="meal().totalFiber ?? 0"
                [alcohol]="meal().totalAlcohol ?? 0"
            />
        </div>
    </div>
</div>
