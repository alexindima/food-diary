<div class="fd-ui-plain-datetime-input" [ngClass]="[sizeClass, error() ? 'fd-ui-plain-datetime-input--has-error' : '', shouldFloatLabel ? 'fd-ui-plain-datetime-input--floating' : '']">
  <div class="fd-ui-plain-datetime-input__control-wrap" (focusin)="onFocusIn()" (focusout)="onFocusOut()">
    @if (label()) {
      <label class="fd-ui-plain-datetime-input__label" [attr.for]="id()">
        <span class="fd-ui-plain-datetime-input__label-text">{{ label() }}</span>@if (required()) {<span class="fd-ui-plain-datetime-input__required">*</span>}
      </label>
    }
    <div class="fd-ui-plain-datetime-input__fields">
      <div class="fd-ui-plain-datetime-input__segment">
        <input
          #dateInput
          matInput
          class="fd-ui-plain-datetime-input__control"
          [id]="id()"
          [matDatepicker]="picker"
          [formControl]="dateControl"
          [attr.placeholder]="shouldFloatLabel ? null : (placeholder() ?? null)"
          [disabled]="disabled"
          />
        <button
          type="button"
          class="fd-ui-plain-datetime-input__suffix"
          [disabled]="disabled"
          (click)="openDatePicker(picker)"
          >
          <mat-icon>calendar_today</mat-icon>
        </button>
      </div>
      <div class="fd-ui-plain-datetime-input__divider" aria-hidden="true"></div>
      <div class="fd-ui-plain-datetime-input__segment">
        <input
          #timeInput
          class="fd-ui-plain-datetime-input__control fd-ui-plain-datetime-input__control--time"
          [value]="timeValue"
          type="time"
          step="60"
          inputmode="numeric"
          [attr.placeholder]="shouldFloatLabel ? null : 'HH:mm'"
          [disabled]="disabled"
          (input)="onTimeInput($any($event.target).value)"
          (blur)="onTimeBlur()"
          />
        <button
          type="button"
          class="fd-ui-plain-datetime-input__suffix"
          [disabled]="disabled"
          (click)="focusTimeInput(timeInput)"
          >
          <mat-icon>schedule</mat-icon>
        </button>
      </div>
    </div>
  </div>

  @if (error()) {
    <div class="fd-ui-plain-datetime-input__error">{{ error() }}</div>
  }
</div>
<mat-datepicker #picker (closed)="dateControl.markAsTouched()" />
